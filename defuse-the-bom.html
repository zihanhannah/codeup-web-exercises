<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Defuse the BOM</title>
</head>
<body>

<h2 id="message">This BOM will self destruct in <span id="timer">5</span> <span id = "second">seconds...</span></h2>
<button id="defuser">Defuse the BOM</button>
<script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
<script>
(function() {
    "use strict";

    var detonationTimer = 5;

    // TODO: This function needs to be called once every second
   // var intervalId = setInterval (function updateTimer() {
   //      if (detonationTimer == 0) {
   //          // alert('EXTERMINATE!');
   //          document.body.innerHTML = '';
   //      } else if (detonationTimer > 0) {
   //          if (detonationTimer == 1) {
   //              document.getElementById("second").innerHTML = "second";
   //          }
   //          document.getElementById('timer').innerHTML = detonationTimer;
   //      }
   //
   //      detonationTimer--;
   //  }, 1000);
    var setIntervalResult =setInterval(setIntervalId,1000);//no () after the function name
    function setIntervalId(){
    if (detonationTimer == 0){
        $("body").html("");
    } else if(detonationTimer > 0){
        if(detonationTimer==1){
            $("#second").html("second");
        }
        $("#timer").html(detonationTimer);
    }
    detonationTimer --;// don't forget it
}
    // TODO: When this function runs, it needs to
    // cancel the interval/timeout for updateTimer()
    // function defuseTheBOM() {
    //     clearInterval(setIntervalId);
    // }
    //
    // // Don't modify anything below this line!
    // //
    // // This causes the defuseTheBOM() function to be called
    // // when the "defuser" button is clicked.
    // // We will learn about events in the DOM lessons
    // var defuser = document.getElementById('defuser');
    // defuser.addEventListener('click', defuseTheBOM);
    $("#defuser").click(function(){
        clearInterval(setIntervalResult);
    })
})();
</script>
</body>
</html>
